<template>
    <section class="ecosystem" data-nav="5">
        <div class="bevel-container-wrap top">
            <div class="ecosystem__babel_top"></div>
        </div>
        <div class="container">
            <h2 class="ecosystem__title">{{ $t('ecosystem.title') }}</h2>
            <p class="ecosystem__text">
                {{ $t('ecosystem.text1') }}
            </p>
            <i18n class="ecosystem__text" path="ecosystem.text2" tag="p">
                <a :href="$t('url.blockchainWP')" class="ecosystem__text__link" target="_blank" rel="noopener">
                    Imigize Service Blockchain
                </a>
            </i18n>
        </div>
        <div class="ecosystem__img-wrap">
            <img class="ecosystem__img" src="../assets/img/ecoSystem/eco.jpg" alt="ecoSystem">
            <div class="ecosystem__img-svg">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="100%" height="100%" version="1.1"
style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
 viewBox="0 0 64238 20494">
 <g class="ecosystem__svg-wrap" v-on:click="onSvgClick">
  <line class="fil0 str0" x1="11654" y1="17457" x2="21401" y2="16989" />
  <line class="fil0 str0" x1="39475" y1="12055" x2="42222" y2="15382" />
  <line class="fil0 str0" x1="30755" y1="17517" x2="27268" y2="20473" />
  <g id="_890136560">
   <line class="fil0 str0" x1="55778" y1="4929" x2="58413" y2="15018" />
   <line class="fil0 str0" x1="47511" y1="11390" x2="55778" y2="4929" />
   <line class="fil0 str0" x1="55778" y1="4929" x2="56959" y2="5065" />
   <ellipse class="fil1 str1 ellipse5" transform="matrix(0.570066 0.212156 -0.218703 0.73132 55777.7 4928.57)" rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse39"  transform="matrix(0.472496 -0.115106 0.104658 0.519666 1957.63 10595.8)" rx="244" ry="137"/>
  <g id="_890128464">
   <line class="fil0 str0" x1="7058" y1="14250" x2="2172" y2="17526" />
   <line class="fil0 str0" x1="11654" y1="17457" x2="7058" y2="14250" />
   <line class="fil0 str0" x1="7058" y1="14250" x2="10730" y2="19639" />
   <ellipse class="fil1 str1 ellipse3" data-closest-ellipse="ellipse38, ellipse1, ellipse4" transform="matrix(1.14157 -0.513115 0.508824 1.26583 7069.38 14223.9)"  rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse38"  transform="matrix(0.889811 -0.399956 0.396611 0.986672 2258.66 17456.8)" rx="244" ry="137"/>
  <g id="_890133552">
   <line class="fil0 str0" x1="23561" y1="421" x2="32885" y2="6925" />
   <line class="fil0 str0" x1="23561" y1="421" x2="29201" y2="8842" />
   <ellipse class="fil1 str1 ellipse6" data-closest-ellipse="ellipse11, ellipse13, ellipse33"  transform="matrix(0.553824 -0.0179028 -0.00477608 0.603984 23583.1 407.521)" rx="244" ry="137"/>
  </g>
  <g id="_890131696">
   <line class="fil0 str0" x1="21581" y1="15130" x2="24259" y2="16561" />
   <line class="fil0 str0" x1="21581" y1="15130" x2="21401" y2="16989" />
   <ellipse class="fil1 str1 ellipse7" data-closest-ellipse="ellipse34, ellipse37, ellipse25"  transform="matrix(0.97728 -5.76797E-09 -0.0428357 1.06441 21620.1 15087.5)" rx="244" ry="137"/>
  </g>
  <g id="_890131248">
   <line class="fil0 str0" x1="48399" y1="1983" x2="43274" y2="4272" />
   <line class="fil0 str0" x1="48400" y1="1964" x2="47511" y2="11390" />
   <line class="fil0 str0" x1="48503" y1="1974" x2="55778" y2="4929" />
   <ellipse class="fil1 str1 ellipse8"  transform="matrix(0.84503 -4.98742E-09 -0.037039 0.920367 48452.2 1951.59)" rx="244" ry="137"/>
  </g>
  <g id="_890128368">
   <line class="fil0 str0" x1="51375" y1="6285" x2="47511" y2="11390" />
   <line class="fil0 str0" x1="51375" y1="6285" x2="63993" y2="13991" />
   <ellipse class="fil1 str1 ellipse9"  transform="matrix(0.570066 0.212156 -0.218703 0.73132 51395 6225.82)" rx="244" ry="137"/>
  </g>
  <g id="_890128816">
   <g>
    <line class="fil0 str0" x1="58385" y1="14909" x2="52577" y2="13888" />
    <line class="fil0 str0" x1="58431" y1="14920" x2="63993" y2="13991" />
   <ellipse class="fil1 str1 ellipse10"  transform="matrix(0.823035 0.306302 -0.315753 1.05585 58424 14866.5)" rx="244" ry="137"/>
    </g>
  </g>
  <g id="_890126480">
   <line class="fil0 str0" x1="23122" y1="2513" x2="23561" y2="421" />
   <line class="fil0 str0" x1="23122" y1="2513" x2="33420" y2="10485" />
   <line class="fil0 str0" x1="23122" y1="2513" x2="21687" y2="4443" />
   <line class="fil0 str0" x1="16910" y1="2821" x2="23122" y2="2513" />
   <line class="fil0 str0" x1="23122" y1="2513" x2="19985" y2="13798" />
   <ellipse class="fil1 str1 ellipse11"  transform="matrix(0.554566 -3.27308E-09 -0.0243075 0.604007 23122.5 2513.24)" rx="244" ry="137"/>
  </g>
  <g id="_890126608">
   <line class="fil0 str0" x1="19959" y1="13797" x2="21401" y2="16989" />
   <line class="fil0 str0" x1="11803" y1="4572" x2="19959" y2="13797" />
   <line class="fil0 str0" x1="19959" y1="13797" x2="10730" y2="19639" />
   <ellipse class="fil1 str1 ellipse12" data-text="2" data-closest-ellipse="ellipse24,ellipse22,ellipse11,ellipse13,ellipse26,ellipse34"  cx="19985" cy="13798" rx="244" ry="137"/>
  </g>
  <g id="_890137360">
   <line class="fil0 str0" x1="29201" y1="8842" x2="41310" y2="3947" />
   <line class="fil0 str0" x1="29201" y1="8842" x2="31807" y2="15876" />
   <line class="fil0 str0" x1="29201" y1="8842" x2="19959" y2="13797" />
   <line class="fil0 str0" x1="29201" y1="8842" x2="29680" y2="14956" />
   <ellipse class="fil1 str1 ellipse13"  data-text="7" data-closest-ellipse="ellipse22,ellipse6,ellipse19,ellipse16,ellipse15,ellipse28,ellipse12"  cx="29226" cy="8832" rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse40" data-text="10" data-closest-ellipse="ellipse32,ellipse16,ellipse15,ellipse14"  cx="42797" cy="10757" rx="244" ry="137"/>
  <g id="_890139120">
   <line class="fil0 str0" x1="44369" y1="7011" x2="47511" y2="11390" />
   <line class="fil0 str0" x1="52166" y1="9849" x2="44412" y2="7006" />
   <line class="fil0 str0" x1="51332" y1="6279" x2="44369" y2="7011" />
   <line class="fil0 str0" x1="44359" y1="7035" x2="42222" y2="15382" />
   <ellipse class="fil1 str1 ellipse14" data-closest-ellipse="ellipse40,ellipse29,ellipse41,ellipse30, ellipse9" data-text="9" cx="44369" cy="7011" rx="244" ry="137"/>
  </g>
  <g id="_890140624">
   <line class="fil0 str0" x1="43274" y1="4272" x2="41310" y2="3947" />
   <line class="fil0 str0" x1="41233" y1="3947" x2="42763" y2="10770" />
   <ellipse class="fil1 str1 ellipse15" data-text="8" data-closest-ellipse="ellipse13,ellipse26,ellipse40,ellipse31" cx="41233" cy="3947" rx="244" ry="137"/>
  </g>
  <g id="_890141552">
   <line class="fil0 str0" x1="35611" y1="2347" x2="42724" y2="10744" />
   <line class="fil0 str0" x1="35611" y1="2347" x2="33420" y2="10485" />
   <line class="fil0 str0" x1="38110" y1="12539" x2="35611" y2="2347" />
   <line class="fil0 str0" x1="35611" y1="2347" x2="29201" y2="8842" />
   <line class="fil0 str0" x1="35854" y1="2347" x2="48400" y2="1964" />
   <ellipse class="fil1 str1 ellipse16" data-text="6" data-closest-ellipse="ellipse21,ellipse20,ellipse13,ellipse26,ellipse27,ellipse40,ellipse8" cx="35611" cy="2347" rx="244" ry="137"/>
  </g>
  <g id="_739514608">
   <line class="fil0 str0" x1="21687" y1="4443" x2="27643" y2="13437" />
   <line class="fil0 str0" x1="16910" y1="2821" x2="21687" y2="4443" />
   <ellipse class="fil1 str1 ellipse17" data-closest-ellipse="ellipse18,ellipse11,ellipse25" data-text="11" cx="21670" cy="4443" rx="244" ry="137"/>
  </g>
  <g id="_739516976">
   <line class="fil0 str0" x1="16910" y1="2821" x2="10554" y2="9749" />
   <line class="fil0 str0" x1="16910" y1="2821" x2="11803" y2="4572" />
   <line class="fil0 str0" x1="16910" y1="2821" x2="16228" y2="12222" />
   <line class="fil0 str0" x1="18264" y1="7098" x2="16910" y2="2821" />
   <ellipse class="fil1 str1 ellipse18"  data-text="3" data-closest-ellipse="ellipse24,ellipse1,ellipse23,ellipse22,ellipse17,ellipse11,ellipse21" transform="matrix(0.976336 -0.216259 0.216259 0.976336 16941.9 2837.9)" rx="244" ry="137"/>
  </g>
  <g id="_739424560">
   <line class="fil0 str0" x1="7058" y1="14250" x2="10554" y2="9749" />
   <line class="fil0 str0" x1="5664" y1="10235" x2="10584" y2="9741" />
   <line class="fil0 str0" x1="11654" y1="17457" x2="10584" y2="9741" />
   <line class="fil0 str0" x1="16228" y1="12222" x2="10559" y2="9744" />
   <ellipse class="fil1 ellipse1" data-text="1" data-closest-ellipse="ellipse2,ellipse3,ellipse4,ellipse23,ellipse24,ellipse18"  transform="matrix(0.976336 -0.237848 0.216259 1.0738 10584.2 9726.76)" rx="244" ry="137"/>
  </g>
  <g id="_743434848">
   <line class="fil0 str0" x1="28229" y1="5572" x2="29201" y2="8842" />
   <line class="fil0 str0" x1="28229" y1="5572" x2="18258" y2="7072" />
   <ellipse class="fil1 str1 ellipse19"  transform="matrix(0.769846 -4.54368E-09 -0.0337435 0.83848 28296.4 5545.08)" rx="244" ry="137"/>
  </g>
  <g id="_743436896">
   <line class="fil0 str0" x1="29404" y1="3437" x2="33420" y2="10485" />
   <line class="fil0 str0" x1="29404" y1="3437" x2="35611" y2="2347" />
   <line class="fil0 str0" x1="29404" y1="3437" x2="28296" y2="5545" />
   <ellipse class="fil1 str1 ellipse20"  transform="matrix(0.554566 -3.27308E-09 -0.0243075 0.604007 29406.3 3438.88)" rx="244" ry="137"/>
  </g>
  <g id="_739941152">
   <line class="fil0 str0" x1="27894" y1="152" x2="28229" y2="5572" />
   <line class="fil0 str0" x1="27912" y1="125" x2="29404" y2="3437" />
   <line class="fil0 str0" x1="27943" y1="141" x2="16910" y2="2821" />
   <line class="fil0 str0" x1="27943" y1="141" x2="23122" y2="2513" />
   <line class="fil0 str0" x1="35611" y1="2347" x2="27943" y2="141" />
   <line class="fil0 str0" x1="27943" y1="141" x2="32885" y2="6925" />
   <ellipse class="fil1 str1 ellipse21"  data-text="4" data-closest-ellipse="ellipse18, ellipse11, ellipse19, ellipse20, ellipse16, ellipse33"  cx="27887" cy="110" rx="189" ry="106"/>
  </g>
  <g id="_739858848">
   <line class="fil0 str0" x1="18264" y1="7098" x2="29201" y2="8842" />
   <line class="fil0 str0" x1="19959" y1="13797" x2="18264" y2="7098" />
   <line class="fil0 str0" x1="18258" y1="7072" x2="16228" y2="12222" />
   <ellipse class="fil1 str1 ellipse22" transform="matrix(0.963618 -0.152218 0.123552 1.0562 18297.3 7030.3)"  rx="244" ry="137"/>
  </g>
  <g id="_739857632">
   <line class="fil0 str0" x1="16228" y1="12222" x2="11654" y2="17457" />
   <line class="fil0 str0" x1="16228" y1="12222" x2="21401" y2="16989" />
   <ellipse class="fil1 str1 ellipse23" transform="matrix(1.08424 -0.134715 0.0992009 1.18681 16275.8 12204.4)"  rx="244" ry="137"/>
  </g>
  <g id="_739965376">
   <line class="fil0 str0" x1="11654" y1="17457" x2="11803" y2="4572" />
   <line class="fil0 str0" x1="11803" y1="4572" x2="10554" y2="9749" />
   <ellipse class="fil1 str1 ellipse24" data-closest-ellipse="ellipse1, ellipse4, ellipse12, ellipse18"  transform="matrix(0.647001 -3.81864E-09 -0.0283591 0.704683 11839.9 4535.94)" rx="244" ry="137"/>
  </g>
  <g id="_742957072">
   <line class="fil0 str0" x1="5664" y1="10235" x2="19" y2="15728" />
   <line class="fil0 str0" x1="5664" y1="10235" x2="11654" y2="17457" />
   <line class="fil0 str0" x1="5664" y1="10235" x2="1958" y2="10596" />
   <line class="fil0 str0" x1="4671" y1="7958" x2="5664" y2="10235" />
   <ellipse class="fil1 str1 ellipse2" data-closest-ellipse="ellipse1, ellipse4, ellipse39"  transform="matrix(0.976336 -0.237848 0.216259 1.0738 5702.13 10213.8)" rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse4" data-closest-ellipse="ellipse3, ellipse2, ellipse1, ellipse23, ellipse34, ellipse24"  transform="matrix(1.2232 -0.549808 0.545211 1.35635 11663.1 17399)" rx="244" ry="137"/>
  <g id="_739879376">
   <line class="fil0 str0" x1="29680" y1="14956" x2="27643" y2="13437" />
   <line class="fil0 str0" x1="27643" y1="13437" x2="21581" y2="15130" />
   <line class="fil0 str0" x1="27643" y1="13437" x2="30755" y2="17517" />
   <ellipse class="fil1 str1 ellipse25" data-closest-ellipse="ellipse7, ellipse17" transform="matrix(0.97728 -5.76797E-09 -0.0428357 1.06441 27708.8 13413.8)" rx="244" ry="137"/>
  </g>
  <g id="_739880592">
   <line class="fil0 str0" x1="33420" y1="10485" x2="19959" y2="13797" />
   <line class="fil0 str0" x1="33420" y1="10485" x2="41233" y2="3947" />
   <ellipse class="fil1 str1 ellipse26"  transform="matrix(0.900904 -5.31719E-09 -0.039488 0.981223 33446.1 10442.8)" rx="244" ry="137"/>
  </g>
  <g id="_739881520">
   <line class="fil0 str0" x1="24259" y1="16561" x2="38122" y2="12586" />
   <line class="fil0 str0" x1="38122" y1="12586" x2="31810" y2="15817" />
   <line class="fil0 str0" x1="38157" y1="12552" x2="47511" y2="11390" />
   <ellipse class="fil1 str1 ellipse27"  data-closest-ellipse="ellipse28, ellipse37, ellipse16, ellipse41" transform="matrix(0.900904 -5.31719E-09 -0.039488 0.981223 38160.9 12551.4)" rx="244" ry="137"/>
  </g>
  <g id="_739882736">
   <line class="fil0 str0" x1="31807" y1="15876" x2="30755" y2="17517" />
   <line class="fil0 str0" x1="31810" y1="15817" x2="49873" y2="18510" />
   <line class="fil0 str0" x1="31807" y1="15876" x2="24259" y2="16561" />
   <ellipse class="fil1 str1 ellipse28"  data-closest-ellipse="ellipse37, ellipse13, ellipse27" transform="matrix(0.900904 -5.31719E-09 -0.039488 0.981223 31810.4 15817)" rx="244" ry="137"/>
  </g>
  <g id="_739883952">
   <line class="fil0 str0" x1="42222" y1="15382" x2="30755" y2="17517" />
   <line class="fil0 str0" x1="42283" y1="15415" x2="49873" y2="18510" />
   <line class="fil0 str0" x1="52577" y1="13888" x2="42206" y2="15362" />
   <ellipse class="fil1 str1 ellipse29" data-text="5" data-closest-ellipse="ellipse32, ellipse14, ellipse30, ellipse35" cx="42222" cy="15382" rx="244" ry="137"/>
  </g>
  <g id="_739885168">
   <line class="fil0 str0" x1="52166" y1="9849" x2="52577" y2="13888" />
   <line class="fil0 str0" x1="52166" y1="9849" x2="42228" y2="15359" />
   <line class="fil0 str0" x1="49873" y1="18510" x2="52166" y2="9849" />
   <line class="fil0 str0" x1="52166" y1="9849" x2="63993" y2="13991" />
   <ellipse class="fil1 ellipse30"  data-closest-ellipse="ellipse31, ellipse29, ellipse14, ellipse36" transform="matrix(0.823035 0.306302 -0.315753 1.05585 52212.1 9810.11)" rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse41"  data-closest-ellipse="ellipse27, ellipse14, ellipse8, ellipse9, ellipse5" transform="matrix(0.860018 0.268323 -0.329941 0.92493 47510.9 11389.7)" rx="244" ry="137"/>
  <g id="_905590352">
   <line class="fil0 str0" x1="43274" y1="4272" x2="52166" y2="9849" />
   <line class="fil0 str0" x1="43274" y1="4272" x2="39475" y2="12055" />
   <ellipse class="fil1 str1 ellipse31"  data-closest-ellipse="ellipse15, ellipse8, ellipse30, ellipse32" transform="matrix(0.84503 -4.98742E-09 -0.037039 0.920367 43328.9 4233.45)" rx="244" ry="137"/>
  </g>
  <g id="_905591280">
   <line class="fil0 str0" x1="42797" y1="10757" x2="44369" y2="7011" />
   <line class="fil0 str0" x1="42690" y1="10761" x2="39488" y2="12028" />
  <ellipse class="fil1 ellipse32"   data-closest-ellipse="ellipse33, ellipse31, ellipse40, ellipse29" transform="matrix(0.900904 -5.31719E-09 -0.039488 0.981223 39501 11970.9)" rx="244" ry="137"/>
  </g>
   <g id="_905592208">
   <line class="fil0 str0" x1="24259" y1="16561" x2="32885" y2="6925" />
   <line class="fil0 str0" x1="32885" y1="6925" x2="39412" y2="12060" />
   <ellipse class="fil1 str1 ellipse33"  transform="matrix(0.97728 -5.76797E-09 -0.0428357 1.06441 32938.2 6946.12)" rx="244" ry="137"/>
  </g>
  <g id="_905593136">
   <ellipse class="fil1 str1 ellipse34"  transform="matrix(0.597328 -3.52547E-09 -0.0261818 0.650582 21446.7 16949.4)" rx="244" ry="137"/>
  </g>
  <ellipse class="fil1 ellipse35"  data-closest-ellipse="ellipse29, ellipse30, ellipse10" transform="matrix(0.823035 0.306302 -0.315753 1.05585 52639.8 13844.2)" rx="244" ry="137"/>
  <ellipse class="fil1 ellipse36"  transform="matrix(0.894696 0.332971 -0.343245 1.14778 64014.3 13963.3)" rx="244" ry="137"/>
  <ellipse class="fil1 ellipse37"  data-closest-ellipse="ellipse7, ellipse33, ellipse27, ellipse28" transform="matrix(1.14833 -6.77749E-09 -0.0503329 1.2507 24298.2 16518.9)" rx="244" ry="137"/>

      <g class="ecosystem__svg__text-wrap">
     <text class="ecosystem__svg__text" data-text="1" x="6000" y="9000">
    {{ $t('ecosystem.svg.text1a')}}
</text>
      </g>
      <g class="ecosystem__svg__text-wrap">
      <text class="ecosystem__svg__text" data-text="2" x="17500" y="15000">
    {{ $t('ecosystem.svg.text2a')}}
</text>
       <text class="ecosystem__svg__text" data-text="2" x="17500" :y="15000 + svgLineHeight">
    {{ $t('ecosystem.svg.text2b')}}
</text>
      </g>

     <text class="ecosystem__svg__text" data-text="4" x="24000" y="-600">
    {{ $t('ecosystem.svg.text4')}}
</text>
  <g class="ecosystem__svg__text-wrap">
   <text class="ecosystem__svg__text" data-text="6" x="35674" y="900">
     {{ $t('ecosystem.svg.text6a')}}
</text>
   <text class="ecosystem__svg__text" data-text="6" x="35674" :y="900 + svgLineHeight">
     {{ $t('ecosystem.svg.text6b')}}
</text></g>
      <g class="ecosystem__svg__text-wrap">
       <text class="ecosystem__svg__text" data-text="7" x="27000" :y="getTextY">
    {{ $t('ecosystem.svg.text7a')}}
</text>
      </g>
   <g class="ecosystem__svg__text-wrap">
     <text class="ecosystem__svg__text" data-text="10" x="39000" y="9000">
    {{ $t('ecosystem.svg.text10a')}}
</text>
      <text class="ecosystem__svg__text" data-text="10" x="39000" :y="9000 + svgLineHeight">
    {{ $t('ecosystem.svg.text10b')}}
</text>
      </g>
 </g>
</svg>
            </div>
        </div>

    </section>
</template>

<script>
  export default {
    name: 'ecosystem',
    computed: {
      svgLineHeight() {
        if (window.innerWidth > 1000) {
          return 900
        }
        return 1700
      },
      getTextY() {
        if (window.innerWidth > 1000) {
          return 8200
        }
        return 7000
      }
    },
    methods: {
      onSvgClick(event) {
        let target = event.target

        if (target.tagName.toLowerCase() === 'text') {
          let dataText = target.dataset.text
          let ellipse = document.querySelector(`ellipse[data-text="${dataText}"]`)
          this.addActive(ellipse)
        }

        setTimeout(() => {
          this.clearActive()
        }, 9000)
      },

      clearActive() {
        const ACTIVE_ELLIPSE = 'active-ellipse'
        let ellipses = document.querySelectorAll(`ellipse`)

        for (let prop in ellipses) {
          if (ellipses.hasOwnProperty(prop)) {
            ellipses[prop].classList.remove(ACTIVE_ELLIPSE)
          }
        }

        const SVG_TEXT_ACTIVE = 'ecosystem__svg__text_active'
        let text = document.querySelectorAll(`text`)

        for (let prop in text) {
          if (text.hasOwnProperty(prop)) {
            text[prop].classList.remove(SVG_TEXT_ACTIVE)
          }
        }

        const ACTIVE_LINE = 'active-line'
        let lines = document.querySelectorAll(`line`)

        for (let prop in lines) {
          if (lines.hasOwnProperty(prop)) {
            lines[prop].classList.remove(ACTIVE_LINE)
          }
        }
      },

      addActive(ellipse) {
        const ACTIVE_ELLIPSE = 'active-ellipse'
        const SVG_WRAP = 'ecosystem__svg-wrap'
        const TIMEOUT_NEXT = 1000

        ellipse.classList.add(ACTIVE_ELLIPSE)

        let g = ellipse.closest('g')

        this.addActiveText(ellipse.dataset.text)

        if (!g.classList.contains(SVG_WRAP)) {
          let lines = g.querySelectorAll('line')

          if (lines) {
            this.addActiveLine(lines)
          }
        }

        let nextEllipsesData = ellipse.dataset.closestEllipse
        if (!nextEllipsesData) {
          return
        }
        let nextEllipses = nextEllipsesData.split(',').map((x) => x.trim())

        setTimeout(() => {
          this.addNextEllipse(nextEllipses, ACTIVE_ELLIPSE)
        }, TIMEOUT_NEXT)
      },

      addActiveText(dataText) {
        if (!dataText) {
          return
        }

        const SVG_TEXT_ACTIVE = 'ecosystem__svg__text_active'
        let text = document.querySelectorAll(`text[data-text="${dataText}"]`)

        if (text.length) {
          for (let prop in text) {
            if (text.hasOwnProperty(prop)) {
              text[prop].classList.add(SVG_TEXT_ACTIVE)
            }
          }
        }
      },

      addActiveLine(lines) {
        const ACTIVE_LINE = 'active-line'

        for (let prop in lines) {
          if (lines.hasOwnProperty(prop)) {
            lines[prop].classList.add(ACTIVE_LINE)
          }
        }
      },

      addNextEllipse(nextEllipses, ACTIVE_ELLIPSE) {
        for (let prop in nextEllipses) {
          if (nextEllipses.hasOwnProperty(prop)) {
            let nextEllipseItem = document.querySelector(`.${nextEllipses[prop]}`)

            if (nextEllipseItem && !nextEllipseItem.classList.contains(ACTIVE_ELLIPSE)) {
              this.addActive(nextEllipseItem)
            }
          }
        }
      }
    }
  }
</script>

<style scoped lang="scss">
    @import "../scss/mixins.scss";

    .str0 {
        stroke: #FEFEFE;
        stroke-width: 53.3675px;
        stroke-opacity: 0;
        transition: stroke-opacity 1.5s, stroke 1.5s;
    }

    .str1 {
        stroke: #FEFEFE;
        stroke-width: 7.39382px
    }

    .fil0 {
        fill: none
    }

    .fil1 {
        fill: #FEFEFE
    }

    .fil1 {
        fill: #55fcfa;
        fill-opacity: 0;
        transition: fill-opacity 2s, fill 2s;
    }

    .fil2 {
        fill: yellow;
        &:hover {
            fill: black;
        }
    }

    .fil3 {
        fill: green;
        &:hover {
            fill: grey;
        }
    }

    .active-ellipse {
        fill-opacity: 0.3;
    }

    .active-line {
        stroke: #fff;
        stroke-opacity: 0.7;
    }

    .container {
        padding: 0 4%;
        position: relative;
        z-index: 2;
    }

    .ecosystem {
        padding: 7em 0 0;
        position: relative;
        background-color: #07051d;
        overflow: hidden;
        .bevel-container.bottom-right {
            border-right: 100vw solid #fafafa;
            border-bottom: .2vw solid #fafafa;
        }

        &__babel_top {
            border: 4vw solid transparent;
            border-right: 100vw solid #063649;
            border-top: .2vw solid #063649;
        }

        &__title {
            @include titleSection;
            margin-bottom: 1.5em;
            color: #fff;
        }

        &__text {
            position: relative;
            margin-bottom: 1.5em;
            @include responsiveFont(19px, 16px);
            line-height: 1.5;
            color: #fff;
            text-align: justify

        }

        &__text__link {
            color: #3eabb1;
        }

        &__img-wrap {
            position: relative;
            text-align: center;
            width: 100vw; // временно
            height: 50vw; // временно
        }

        &__img {
            margin-top: -15.3%;
            width: 100%;
        }

        &__img-svg {
            position: absolute;
            top: 4%;
            left: 0;
            width: 97.7%;
            height: 100%;
        }

        &__svg__text-wrap:hover &__svg__text {
            fill-opacity: 1;
        }

        &__svg__text {
            font-family: inherit;
            font-weight: bold;
            font-style: normal;
            font-size: 800px;
            fill: #fff;
            fill-opacity: 0.8;
            cursor: pointer;
            &_active {
                fill-opacity: 1;
                transition: fill-opacity 2s;
            }
            &:hover {
                fill-opacity: 1;
            }
            @include w320-767 {
                font-size: 1700px;
                font-weight: normal;
            }
        }
    }
</style>
